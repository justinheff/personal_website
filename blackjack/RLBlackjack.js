
var _0x453b=['width','push','height','actions','length','Win','Loss','Tie','getRandomState','getNextState','getReward','updateQ','updateP','tableUpdate','dealCard','floor','random','playDealersHand','config','alpha','gamma','getIndex','findPlayerCardIndex','findDealerCardIndex','getMaxActionValue','getMaxActions','stand','hit','Soft','Hard','playerCards','selectActionFromPolicy','epsilon','getRandomAction','dealersCards','blackjackTable','getPreferredAction','rows','cells','innerHTML','style','backgroundColor','yellow','red','green','getElementById','winLossTable','toFixed','checkArray','env','wins','losses','ties','state','init'];(function(_0xca4a1a,_0x53de4c){var _0x284361=function(_0x167e9a){while(--_0x167e9a){_0xca4a1a['push'](_0xca4a1a['shift']());}};_0x284361(++_0x53de4c);}(_0x453b,0x9f));var _0x27d0=function(_0x1f7643,_0x223cba){_0x1f7643=_0x1f7643-0x0;var _0x14e86c=_0x453b[_0x1f7643];return _0x14e86c;};var playerChoices=[[]];RLBlackjack=function(_0x9b7783,_0x146f45){self[_0x27d0('0x0')]=_0x9b7783;self['config']=_0x146f45;self['Q']=[];self['P']=[];self[_0x27d0('0x1')]=0x0;self[_0x27d0('0x2')]=0x0;self[_0x27d0('0x3')]=0x0;self[_0x27d0('0x4')];self[_0x27d0('0x5')]=function(){for(x=0x0;x<self[_0x27d0('0x0')][_0x27d0('0x6')];x++){self['Q'][_0x27d0('0x7')]([]);for(y=0x0;y<self['env'][_0x27d0('0x8')];y++){self['Q'][x][_0x27d0('0x7')]([]);for(a=0x0;a<self[_0x27d0('0x0')][_0x27d0('0x9')]['length'];a++){self['Q'][x][y][_0x27d0('0x7')](0x0);}}}for(x=0x0;x<self[_0x27d0('0x0')][_0x27d0('0x6')];x++){self['P'][_0x27d0('0x7')]([]);for(y=0x0;y<self[_0x27d0('0x0')]['height'];y++){self['P'][x][_0x27d0('0x7')]([]);for(a=0x0;a<self['env'][_0x27d0('0x9')][_0x27d0('0xa')];a++){self['P'][x][y]['push'](0x1/self['env'][_0x27d0('0x9')][_0x27d0('0xa')]);}}}};self['learningIteration']=function(){if(state==_0x27d0('0xb')||state==_0x27d0('0xc')||state==_0x27d0('0xd')){self[_0x27d0('0x4')]=self[_0x27d0('0xe')]();}let _0x388674=self['selectActionFromPolicy'](self[_0x27d0('0x4')]);let _0x294cb6=self[_0x27d0('0xf')](self[_0x27d0('0x4')],_0x388674);let _0x30440d=self[_0x27d0('0x10')](_0x294cb6);self[_0x27d0('0x11')](self[_0x27d0('0x4')],_0x388674,_0x30440d,_0x294cb6);self[_0x27d0('0x12')](self[_0x27d0('0x4')]);self[_0x27d0('0x13')](self['state']);self[_0x27d0('0x4')]=_0x294cb6;};self[_0x27d0('0x14')]=function(){var _0x11957d=Math[_0x27d0('0x15')](Math[_0x27d0('0x16')]()*0xb);return _0x11957d;};self['getReward']=function(_0x21dc8f){if(_0x21dc8f=='Win'){self[_0x27d0('0x1')]+=0x1;return 0x1;}else if(_0x21dc8f==_0x27d0('0xc')){self[_0x27d0('0x2')]+=0x1;return-0x1;}else if(_0x21dc8f==_0x27d0('0xd')){self[_0x27d0('0x3')]+=0x1;return 0x0;}else{return 0x0;}};self[_0x27d0('0x17')]=function(_0xd01717){var _0x380177=_0xd01717+self['dealCard']();if(_0x380177==0xb&&(_0xd01717==0x1||_0xd01717==0xa)){return 0x15;}while(_0x380177<0x11){_0x380177+=self[_0x27d0('0x14')]();}return _0x380177;};self['updateQ']=function(_0x5de9ab,_0x4000de,_0x59a0a8,_0x5c573d){let _0x1022d3=self[_0x27d0('0x18')][_0x27d0('0x19')];let _0xe4286=self[_0x27d0('0x18')][_0x27d0('0x1a')];let _0x53ae56=self[_0x27d0('0x1b')](_0x4000de,self[_0x27d0('0x0')][_0x27d0('0x9')]);let _0x40ad79=self[_0x27d0('0x1c')](_0x5de9ab[0x0]);let _0x2d06fb=self[_0x27d0('0x1d')](_0x5de9ab[0x1]);let _0x245912=self['Q'][_0x2d06fb][_0x40ad79][_0x53ae56];self['Q'][_0x2d06fb][_0x40ad79][_0x53ae56]=_0x245912+_0x1022d3*(_0x59a0a8+_0xe4286*self[_0x27d0('0x1e')](_0x5c573d)-_0x245912);};self[_0x27d0('0x12')]=function(_0x273192){let _0x1c20f9=self[_0x27d0('0x1e')](_0x273192);let _0x3b1c1b=self[_0x27d0('0x1f')](_0x273192,_0x1c20f9);let _0x5720b5=self['findPlayerCardIndex'](_0x273192[0x0]);let _0x23e21c=self['findDealerCardIndex'](_0x273192[0x1]);for(let _0x5f1db7=0x0;_0x5f1db7<self['env'][_0x27d0('0x9')][_0x27d0('0xa')];_0x5f1db7++){if(self['checkArray'](self[_0x27d0('0x0')][_0x27d0('0x9')][_0x5f1db7],_0x3b1c1b)){self['P'][_0x23e21c][_0x5720b5][_0x5f1db7]=0x1/_0x3b1c1b[_0x27d0('0xa')];}else{self['P'][_0x23e21c][_0x5720b5][_0x5f1db7]=0x0;}}};self[_0x27d0('0xf')]=function(_0x5e60ec,_0xf65259){if(_0xf65259==_0x27d0('0x20')){let _0x33a4b4=self['playDealersHand'](_0x5e60ec[0x1]);if(_0x33a4b4>0x15||_0x33a4b4<_0x5e60ec[0x0][0x1]){return _0x27d0('0xb');}else if(_0x33a4b4>_0x5e60ec[0x0][0x1]){return _0x27d0('0xc');}else{return _0x27d0('0xd');}}else if(_0xf65259==_0x27d0('0x21')){let _0x54af1c=self[_0x27d0('0x14')]();newVal=_0x5e60ec[0x0][0x1]+_0x54af1c;let _0x2691fc;if(_0x5e60ec[0x0][0x0]==_0x27d0('0x22')&&newVal<0x16){_0x2691fc=[_0x27d0('0x22'),newVal];}else if(_0x5e60ec[0x0][0x0]==_0x27d0('0x22')&&newVal>0x16){_0x2691fc=['Hard',newVal-0xa];}else if(_0x5e60ec[0x0][0x0]==_0x27d0('0x23')&&newVal<0x16){_0x2691fc=[_0x27d0('0x23'),newVal];}else{return _0x27d0('0xc');}return[_0x2691fc,_0x5e60ec[0x1]];}};self[_0x27d0('0x1c')]=function(_0x432fef){for(let _0x93bdc4=0x0;_0x93bdc4<self[_0x27d0('0x0')][_0x27d0('0x24')]['length'];_0x93bdc4++){if(_0x432fef[0x0]==self[_0x27d0('0x0')]['playerCards'][_0x93bdc4][0x0]&&_0x432fef[0x1]==self[_0x27d0('0x0')][_0x27d0('0x24')][_0x93bdc4][0x1]){return _0x93bdc4;}}};self[_0x27d0('0x1d')]=function(_0x3f1c5f){for(let _0x3d7c6a=0x0;_0x3d7c6a<self[_0x27d0('0x0')]['dealersCards'][_0x27d0('0xa')];_0x3d7c6a++){if(_0x3f1c5f==self[_0x27d0('0x0')]['dealersCards'][_0x3d7c6a]){return _0x3d7c6a;}}};self[_0x27d0('0x1e')]=function(_0x55aa65){if(_0x55aa65==_0x27d0('0xb')||_0x55aa65==_0x27d0('0xc')||_0x55aa65=='Tie'){return 0x0;}let _0x44f70e=-0x186a0;let _0x53edf2=self[_0x27d0('0x1c')](_0x55aa65[0x0]);let _0x5ad34e=self[_0x27d0('0x1d')](_0x55aa65[0x1]);for(let _0x3db354=0x0;_0x3db354<self[_0x27d0('0x0')][_0x27d0('0x9')][_0x27d0('0xa')];_0x3db354++){let _0x357626=self['Q'][_0x5ad34e][_0x53edf2][_0x3db354];if(_0x357626>_0x44f70e){_0x44f70e=_0x357626;}}return _0x44f70e;};self[_0x27d0('0x1f')]=function(_0x4614b0,_0x41a288){let _0x201580=[];let _0xb32107=self[_0x27d0('0x1c')](_0x4614b0[0x0]);let _0x3bb932=self['findDealerCardIndex'](_0x4614b0[0x1]);for(a=0x0;a<self[_0x27d0('0x0')][_0x27d0('0x9')][_0x27d0('0xa')];a++){let _0x278468=self['Q'][_0x3bb932][_0xb32107][a];if(_0x278468==_0x41a288){_0x201580[_0x27d0('0x7')](self['env']['actions'][a]);}}return _0x201580;};self[_0x27d0('0x25')]=function(){var _0x4500e2=self[_0x27d0('0x18')][_0x27d0('0x26')];if(Math[_0x27d0('0x16')]()<_0x4500e2){return self[_0x27d0('0x27')]();}else{let _0x441aab=self[_0x27d0('0x1e')](self['state']);let _0x5ab069=self['getMaxActions'](self[_0x27d0('0x4')],_0x441aab);let _0x424dba=Math[_0x27d0('0x15')](Math[_0x27d0('0x16')]()*Math[_0x27d0('0x15')](_0x5ab069[_0x27d0('0xa')]));return _0x5ab069[_0x424dba];}};self[_0x27d0('0x27')]=function(){let _0x1fa100=Math[_0x27d0('0x15')](Math[_0x27d0('0x16')]()*self[_0x27d0('0x0')][_0x27d0('0x9')][_0x27d0('0xa')]);return self[_0x27d0('0x0')][_0x27d0('0x9')][_0x1fa100];};self[_0x27d0('0xe')]=function(){let _0x3d74e0=Math['floor'](Math[_0x27d0('0x16')]()*self[_0x27d0('0x0')]['height']);let _0x160441=Math['floor'](Math['random']()*self[_0x27d0('0x0')][_0x27d0('0x6')]);let _0x574fe5=self[_0x27d0('0x0')]['playerCards'][_0x3d74e0];let _0x50377d=self[_0x27d0('0x0')][_0x27d0('0x28')][_0x160441];let _0x5cc456=[_0x574fe5,_0x50377d];return _0x5cc456;};self[_0x27d0('0x1b')]=function(_0x1523dd){for(a=0x0;a<self[_0x27d0('0x0')]['actions'][_0x27d0('0xa')];a++){if(_0x1523dd==self[_0x27d0('0x0')][_0x27d0('0x9')][a]){return a;}}return undefined;};self['tableUpdate']=function(_0x16a9f9){var _0x516aec=document['getElementById'](_0x27d0('0x29'));let _0x448771=self[_0x27d0('0x1c')](_0x16a9f9[0x0]);let _0x54e4cf=self[_0x27d0('0x1d')](_0x16a9f9[0x1]);let _0x5d6507=self[_0x27d0('0x2a')](_0x448771,_0x54e4cf);_0x516aec[_0x27d0('0x2b')][_0x448771+0x1][_0x27d0('0x2c')][_0x54e4cf+0x1][_0x27d0('0x2d')]=_0x5d6507;if(_0x5d6507==_0x27d0('0x20')){_0x516aec[_0x27d0('0x2b')][_0x448771+0x1][_0x27d0('0x2c')][_0x54e4cf+0x1][_0x27d0('0x2e')][_0x27d0('0x2f')]=_0x27d0('0x30');}else if(_0x5d6507==_0x27d0('0x21')){_0x516aec[_0x27d0('0x2b')][_0x448771+0x1][_0x27d0('0x2c')][_0x54e4cf+0x1][_0x27d0('0x2e')]['backgroundColor']=_0x27d0('0x31');}else{_0x516aec[_0x27d0('0x2b')][_0x448771+0x1]['cells'][_0x54e4cf+0x1][_0x27d0('0x2e')][_0x27d0('0x2f')]=_0x27d0('0x32');}var _0x3c341=document[_0x27d0('0x33')](_0x27d0('0x34'));let _0x1b2bd0=self['wins']+self['losses']+self[_0x27d0('0x3')];_0x3c341[_0x27d0('0x2b')][0x1][_0x27d0('0x2c')][0x0][_0x27d0('0x2d')]=self[_0x27d0('0x1')];_0x3c341['rows'][0x1][_0x27d0('0x2c')][0x1][_0x27d0('0x2d')]=self[_0x27d0('0x2')];_0x3c341[_0x27d0('0x2b')][0x1][_0x27d0('0x2c')][0x2][_0x27d0('0x2d')]=self[_0x27d0('0x3')];_0x3c341[_0x27d0('0x2b')][0x2][_0x27d0('0x2c')][0x0][_0x27d0('0x2d')]=(self[_0x27d0('0x1')]/_0x1b2bd0*0x64)[_0x27d0('0x35')](0x2)+'%';_0x3c341[_0x27d0('0x2b')][0x2]['cells'][0x1][_0x27d0('0x2d')]=(self[_0x27d0('0x2')]/_0x1b2bd0*0x64)[_0x27d0('0x35')](0x2)+'%';_0x3c341[_0x27d0('0x2b')][0x2][_0x27d0('0x2c')][0x2][_0x27d0('0x2d')]=(self[_0x27d0('0x3')]/_0x1b2bd0*0x64)['toFixed'](0x2)+'%';};self['getPreferredAction']=function(_0x13ec6c,_0x129a63){let _0x5d82c0=0x0;let _0x3d586d='';for(let _0x510e03=0x0;_0x510e03<self[_0x27d0('0x0')][_0x27d0('0x9')][_0x27d0('0xa')];_0x510e03++){if(self['P'][_0x129a63][_0x13ec6c][_0x510e03]>0x0){if(_0x5d82c0>0x0){_0x3d586d=_0x3d586d+'/'+self[_0x27d0('0x0')][_0x27d0('0x9')][_0x510e03];}else{_0x3d586d=self[_0x27d0('0x0')][_0x27d0('0x9')][_0x510e03];}_0x5d82c0++;}}return _0x3d586d;};self[_0x27d0('0x36')]=function(_0x4a45f8,_0x5e8354){for(let _0x2541c3=0x0;_0x2541c3<_0x5e8354[_0x27d0('0xa')];_0x2541c3++){if(_0x4a45f8==_0x5e8354[_0x2541c3]){return!![];}}return![];};self['init']();return self;};